<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <div class="container">
      <div class="col">
        <div class="row">
          <div class="col-6">
            <h1>Bienvenidos a mi OnePage</h1>
            <p>Esta pagina funciona cargando elementos con el evento scroll</p>
          </div>
          <div class="col-6">
            <img
              src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTrR3XvPhuy0dNI9QGH9y8BhxN4g2FVf90ixg&s"
              alt="esto es una imagen"
              class="img-fluid"
            />
          </div>
        </div>
        <br />
        <div class="row" id="tarjetas">
          <!-- Aqui voy a cargar mis cards -->
          <div class="card col-4">
            <div class="card-body">
              <h5 class="card-title">Titulo de la tarjeta por defecto.</h5>
              <p class="card-text">
                Teto por defecto de la tarjeta. Lorem ipsum, dolor sit amet
                consectetur adipisicing elit. Alias odit magni nostrum
                molestias. Non atque sed tenetur minus. Dignissimos, vero
                exercitationem. Perferendis, corporis adipisci? Velit voluptate
                deserunt est quas nisi. Lorem ipsum dolor sit amet consectetur
                adipisicing elit. Doloribus odio unde soluta eius in voluptas
                repellendus cumque asperiores, quibusdam, ipsam sapiente
                inventore culpa modi voluptatibus sint officia! Et, obcaecati
                labore! Lorem ipsum dolor sit amet consectetur adipisicing elit.
                Quidem expedita amet, ad adipisci ratione, omnis nihil magnam
                unde nisi iusto qui? Ut quaerat ex deserunt unde voluptates eos
                quo ullam. Lorem ipsum dolor sit amet consectetur adipisicing
                elit. Expedita maxime obcaecati quis praesentium dolore. Labore,
                eveniet earum cum perspiciatis vitae officia aperiam sequi
                mollitia natus voluptates, voluptate culpa impedit! Ipsum. Lorem
                ipsum dolor sit amet consectetur adipisicing elit. Quidem
                officia voluptatum dolores numquam perspiciatis quo molestias
                pariatur consectetur voluptates harum impedit magnam,
                necessitatibus, accusamus adipisci fugit quaerat excepturi
                nesciunt exercitationem.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      var i = 1;

      function loadCards() {
        console.log("Se detecto el final de la p√°gina");

        for (let index = 0; index < 5; index++) {
            if(i>100){
                break;
            }
          //Vamos a hacer la logica de un objeto con propiedades en JS

          var object = {
            title: "Card numero: " + i,
            text: "Texto dummy de la card: " + i,
          };

          i++;

          //crear nuestro html con JS
          var card = document.createElement("div");
          card.setAttribute("class", "card col-4 border-primary",);
          card.style.height = "200px";

          var body = document.createElement("div");
          body.setAttribute("class", "card-body");

          var h5 = document.createElement("h5");
          h5.setAttribute("class", "card-title");
          h5.innerHTML = object.title;

          var p = document.createElement("p");
          p.setAttribute("class", "card-text");
          p.innerHTML = object.text;

          body.appendChild(h5);
          body.appendChild(p);
          card.appendChild(body);

          document.getElementById("tarjetas").appendChild(card);
        }
      }

      window.addEventListener("scroll", () => {
        if (window.innerHeight + window.scrollY >= document.body.offsetHeight) {
          loadCards();
        }
      });
    </script>
  </body>
</html>
